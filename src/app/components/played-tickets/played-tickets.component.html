<mat-card>
  <mat-card-header>
    <mat-card-title>
      <p>PREVIEW TICKETS</p>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div *ngFor="let ticket of tickets">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <ng-container *ngIf="ticket.status;else inplay">
              <ng-container *ngIf="ticket.status === 2;else winning">
                <mat-icon>thumb_down</mat-icon>
                <div class="fail">losing ticket ...</div>
              </ng-container>
              <ng-template #winning>
                <mat-icon>thumb_up</mat-icon>
                <div class="success">winning ticket!</div>
              </ng-template>
            </ng-container>
            <ng-template #inplay>
              <mat-icon>thumbs_up_down</mat-icon>
              <div>ticket in play...</div>
            </ng-template>
          </mat-panel-title>
          <mat-panel-description>
            {{ticket.date | date:'dd MMM yyyy HH:mm'}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <ng-template matExpansionPanelContent>
          <mat-divider [inset]="true"></mat-divider>
          <mat-grid-list cols="1" rowHeight="100px">
            <mat-grid-tile row="1">
              <div class="ticket">Total odds: {{ticket.totalOdds}}</div>
              <div class="ticket">Payment: {{ticket.fullPayment}}$</div>
              <div class="ticket">Amount to gain: {{ticket.estimatedWin}}$</div>
            </mat-grid-tile>
          </mat-grid-list>
          <mat-divider [inset]="true"></mat-divider>
          <mat-grid-list cols="1" rowHeight="30px">
            <mat-grid-tile row="1">
              <div class="game-title">Games:</div>
              <div class="game-title">Type:</div>
              <div class="game-title">Odds:</div>
            </mat-grid-tile>
          </mat-grid-list>
          <mat-grid-list cols="1" rowHeight="30px">
            <mat-grid-tile *ngFor="let game of ticket.games" row="1">
              <div class="game">{{game.game}}</div>
              <div class="game">{{game.oddsType}}</div>
              <div class="game">{{game.odds}}</div>
            </mat-grid-tile>
          </mat-grid-list>
        </ng-template>
      </mat-expansion-panel>
    </div>
  </mat-card-content>
</mat-card>
